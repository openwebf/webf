// AUTO GENERATED FILE, DO NOT EDIT.
//
// Generated by webf module-codegen --flutter-package-src=/Users/andycall/workspace/webf-enterprise-3/opensource/webf_modules/share <distPath>

import 'package:webf/module.dart';
import 'package:webf/bridge.dart';

class ShareTextOptions {
  final String? title;
  final String? text;
  final String? url;

  const ShareTextOptions({this.title, this.text, this.url});

  factory ShareTextOptions.fromMap(Map<String, dynamic> map) {
    return ShareTextOptions(
      title: map['title']?.toString(),
      text: map['text']?.toString(),
      url: map['url']?.toString(),
    );
  }

  Map<String, dynamic> toMap() {
    final map = <String, dynamic>{};
    if (title != null) { map['title'] = title; }
    if (text != null) { map['text'] = text; }
    if (url != null) { map['url'] = url; }
    return map;
  }

  Map<String, dynamic> toJson() => toMap();
}

class ShareSaveResult {
  final String? success;
  final String? filePath;
  final String? platformInfo;
  final String? message;
  final String? error;

  const ShareSaveResult({this.success, this.filePath, this.platformInfo, this.message, this.error});

  factory ShareSaveResult.fromMap(Map<String, dynamic> map) {
    return ShareSaveResult(
      success: map['success']?.toString(),
      filePath: map['filePath']?.toString(),
      platformInfo: map['platformInfo']?.toString(),
      message: map['message']?.toString(),
      error: map['error']?.toString(),
    );
  }

  Map<String, dynamic> toMap() {
    final map = <String, dynamic>{};
    if (success != null) { map['success'] = success; }
    if (filePath != null) { map['filePath'] = filePath; }
    if (platformInfo != null) { map['platformInfo'] = platformInfo; }
    if (message != null) { map['message'] = message; }
    if (error != null) { map['error'] = error; }
    return map;
  }

  Map<String, dynamic> toJson() => toMap();
}

abstract class ShareModuleBindings extends WebFBaseModule {
  ShareModuleBindings(super.moduleManager);

  @override
  String get name => 'Share';

  Future<bool> share(NativeByteData imageData, dynamic text, dynamic subject);
  Future<bool> shareText(ShareTextOptions? options);
  Future<ShareSaveResult> save(NativeByteData imageData, dynamic filename);
  Future<ShareSaveResult> saveForPreview(NativeByteData imageData, dynamic filename);

  @override
  Future<dynamic> invoke(String method, List<dynamic> params) async {
    switch (method) {
      case 'share': {
        return share(params.length > 0 ? params[0] : null, params.length > 1 ? params[1] : null, params.length > 2 ? params[2] : null);
      }
      case 'shareText': {
        final _raw0 = params.length > 0 ? params[0] : null;
        final options = _raw0 is Map ? ShareTextOptions.fromMap(Map<String, dynamic>.from(_raw0 as Map)) : (_raw0 as ShareTextOptions?);
        return shareText(options);
      }
      case 'save': {
        final result = await save(params.length > 0 ? params[0] : null, params.length > 1 ? params[1] : null);
        return result.toMap();
      }
      case 'saveForPreview': {
        final result = await saveForPreview(params.length > 0 ? params[0] : null, params.length > 1 ? params[1] : null);
        return result.toMap();
      }
      default:
        throw Exception('Unknown method for module ${name}: $method');
    }
  }
}
